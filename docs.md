# RikoaTech ArtMarket API Documentation v4.0

## –ë–∞–∑–æ–≤—ã–π URL
```
http://localhost:5000/api
```

## üÜï –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è v4.0

### ‚úÖ **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –ø—Ä–µ–≤—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
- **–¢–∞–π–º–∞—É—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ 30 —Å–µ–∫—É–Ω–¥
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 10000x10000 –ø–∏–∫—Å–µ–ª–µ–π
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞** - –ø—Ä–µ–≤—å—é —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ —á—Ç–æ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª

### üîÑ **–£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–µ–≤—å—é
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ —Ç–∞–π–º–∞—É—Ç
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

## üìã –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö

### Account (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```json
{
  "id": "string",
  "nickname": "string", 
  "mail": "string",
  "createdAt": "datetime",
  "bayed": "Product[]",
  "posted": "Product[]",
  "token": "string"
}
```

### Product (–ê—Ä—Ç)
```json
{
  "id": "string",
  "photoUrl": "string",
  "title": "string",
  "price": "int",
  "description": "string",
  "updatedAt": "datetime",
  "creator": "Account"
}
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**POST** `/api/auth/register`

**Content-Type:** `application/json`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "login": "artlover",
  "mail": "artlover@example.com",
  "password": "securepassword123"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "nickname": "artlover",
  "mail": "artlover@example.com",
  "createdAt": "2024-01-15T10:30:00.000000",
  "bayed": [],
  "posted": [],
  "token": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
}
```

---

### 2. –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
**POST** `/api/auth/login`

**Content-Type:** `application/json`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "login": "user1",
  "password": "password"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "4720f657-b4cc-4491-a1d2-a247dcb4a567",
  "nickname": "user1", 
  "mail": "user1@example.com",
  "createdAt": "2025-10-26T18:10:58.550639",
  "bayed": [],
  "posted": [],
  "token": "4720f657-b4cc-4491-a1d2-a247dcb4a567"
}
```

---

### 3. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ —Ç–æ–∫–µ–Ω—É
**GET** `/api/auth/profile`

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer [token]
```

---

## üé® –†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ç–∞–º–∏

### 4. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞—Ä—Ç–æ–≤ (6 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
**GET** `/api/product?page=1`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)

---

### 5. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∞—Ä—Ç–∞ (–º–∞–∫—Å–∏–º—É–º 6)
**GET** `/api/product/{product_id}/buyers`

---

### 6. –ö—É–ø–∏—Ç—å –∞—Ä—Ç
**POST** `/api/product/buy`

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer [token]
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "id": "product-id-here"
}
```

---

## üñºÔ∏è –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### 7. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∞—Ä—Ç (form-data)
**POST** `/api/products`

**Content-Type:** `multipart/form-data`

**Form Data:**
| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|--------------|-----------|
| `image` | file | ‚úÖ | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞—Ä—Ç–∞ |
| `title` | text | ‚úÖ | –ù–∞–∑–≤–∞–Ω–∏–µ –∞—Ä—Ç–∞ |
| `price` | text | ‚úÖ | –¶–µ–Ω–∞ |
| `creator_id` | text | ‚úÖ | ID —Å–æ–∑–¥–∞—Ç–µ–ª—è |
| `description` | text | ‚ùå | –û–ø–∏—Å–∞–Ω–∏–µ |

**üî• –ù–û–í–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –î–õ–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô:**
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 15MB
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 30 —Å–µ–∫—É–Ω–¥
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** 10000x10000 –ø–∏–∫—Å–µ–ª–µ–π
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:** PNG, JPG, JPEG, GIF, WebP
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–µ–≤—å—é —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º

**–ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–≤—å—é:**
- **> 2000px:** —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –¥–æ 800x800px
- **1000-2000px:** —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –¥–æ 1200x1200px  
- **< 1000px:** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–º–∞–∫—Å. 1600x1600px)

---

### 8. –ü–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
**GET** `/photos/{product_id}`

**–û—Ç–≤–µ—Ç:** –ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 9. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
**GET** `/api/images/thumbnail/{file_id}`

**–û—Ç–≤–µ—Ç:** –ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–≤—å—é (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)

---

## ü©∫ –°–∏—Å—Ç–µ–º–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 10. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
**GET** `/api/health`

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "status": "healthy",
  "message": "RikoaTech ArtMarket API is running",
  "timestamp": "2024-01-15T10:30:00.000000",
  "version": "4.0"
}
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### cURL - –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:
```bash
curl -X POST http://localhost:5000/api/products \
  -F "image=@/path/to/your/image.jpg" \
  -F "title=My Amazing Art" \
  -F "price=200" \
  -F "creator_id=user-uuid-here" \
  -F "description=This is my beautiful artwork"
```

### –ü–æ–ª—É—á–∏—Ç—å –∞—Ä—Ç—ã:
```bash
curl -X GET "http://localhost:5000/api/product?page=1"
```

---

## üå± –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è seed-—Å–∫—Ä–∏–ø—Ç–∞:**
```python
NUM_USERS = 15                    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
NUM_PRODUCTS = 20                # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∞—Ä—Ç–æ–≤
PURCHASE_PERCENTAGE = 0.6        # –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∫—É–ø–∫–∏ –∞—Ä—Ç–æ–≤
```

**–ó–∞–ø—É—Å–∫:**
```bash
python seed.py
```

**üî• –û–°–û–ë–ï–ù–ù–û–°–¢–ò SEED-–°–ö–†–ò–ü–¢–ê:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–≤—å—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–µ–≤—å—é –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ —á—Ç–æ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ù–æ–≤—ã–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```json
{
  "error": "Image processing timeout - file too large or complex"
}
```

```json
{
  "error": "Image dimensions too large (max 10000x10000)"
}
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏:
- `400` - Bad Request
- `401` - Unauthorized
- `404` - Not Found
- `413` - File too large
- `415` - Unsupported Media Type
- `500` - Internal Server Error

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
- **–¢–∞–π–º–∞—É—Ç:** 30 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º
- **–§–æ—Ä–º–∞—Ç—ã –ø—Ä–µ–≤—å—é:** –°–æ—Ö—Ä–∞–Ω—è—é—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (PNG, JPG, etc.)
- **–ö–∞—á–µ—Å—Ç–≤–æ:** 85% –¥–ª—è –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤, 80% –¥–ª—è –ø—Ä–µ–≤—å—é
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (>10 —Å–µ–∫—É–Ω–¥)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–µ–≤—å—é

---

## üöÄ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —á–µ—Ä–µ–∑ `/api/auth/register`
2. **–õ–æ–≥–∏–Ω** —á–µ—Ä–µ–∑ `/api/auth/login` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
3. **–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–æ–≤** —á–µ—Ä–µ–∑ `/api/products` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∞—Ä—Ç–æ–≤** —á–µ—Ä–µ–∑ `/api/product?page=1`
5. **–ü–æ–∫—É–ø–∫–∞ –∞—Ä—Ç–æ–≤** —á–µ—Ä–µ–∑ `/api/product/buy` —Å —Ç–æ–∫–µ–Ω–æ–º
6. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —á–µ—Ä–µ–∑ `/photos/{id}` –∏ `/api/images/thumbnail/{id}`

**üî• –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê v4.0:**
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞ —Å—á–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —à–∏—Ä–æ–∫–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
